The issue stems from an unusual interaction between Firebase's Realtime Database security rules and client-side code.  Specifically, when attempting to update a nested object within a transaction, the client-side code successfully executes the transaction, but the database doesn't reflect the changes immediately.  Instead, the update seems to be delayed or completely lost. This isn't a typical race condition or permission problem, as transactions should ensure atomicity.  The code executes without errors, leading to a hard-to-debug situation.